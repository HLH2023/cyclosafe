# CycloSafe - 骑行安全码表

> 基于 uniapp 的微信小程序，集成专业骑行码表与智能安全检测功能

## 项目简介

CycloSafe 是一款纯客户端骑行应用，通过充分利用手机内置硬件传感器（GPS、加速度计、陀螺仪、罗盘），为骑行爱好者提供：

- 🚴 **专业码表功能** - 实时速度、距离、时长、海拔监测
- 🛡️ **智能安全检测** - 急刹车检测、摔倒检测、速度预警
- 📊 **数据可视化** - 骑行报告、图表分析、轨迹回放
- 💾 **GPX导出** - 标准格式轨迹导出

## 技术栈

- **框架**: uniapp (Vue 3)
- **平台**: 微信小程序
- **状态管理**: Pinia
- **地图服务**: 腾讯位置服务
- **图表库**: uCharts
- **工具库**: Day.js

## 项目结构

```
mobileHomework/
├── docs/                    # 项目文档
│   ├── 00-进度跟踪.md       # 开发进度跟踪
│   ├── 01-项目概述.md
│   ├── 02-功能需求.md
│   ├── 03-技术方案.md
│   ├── 04-硬件接口使用.md
│   ├── 05-第三方依赖.md
│   └── 06-开发计划.md
│
├── src/                     # 源代码
│   ├── pages/               # 页面
│   │   ├── index/           # 首页
│   │   ├── riding/          # 骑行页面
│   │   ├── analysis/        # 数据分析
│   │   ├── history/         # 历史记录
│   │   └── settings/        # 设置
│   │
│   ├── components/          # 组件
│   ├── services/            # 服务
│   ├── utils/               # 工具函数
│   │   ├── constants.js     # 常量定义
│   │   ├── gpsCalculator.js # GPS计算
│   │   ├── storage.js       # 本地存储
│   │   ├── uuid.js          # UUID生成
│   │   └── formatter.js     # 格式化工具
│   │
│   ├── store/               # 状态管理
│   ├── static/              # 静态资源
│   ├── App.vue              # 应用入口
│   ├── main.js              # 主入口
│   ├── pages.json           # 页面配置
│   ├── manifest.json        # 应用配置
│   └── uni.scss             # 全局样式
│
├── package.json
└── README.md
```

## 快速开始

### 环境要求

- Node.js >= 14.0.0
- HBuilderX >= 3.0.0
- 微信开发者工具 >= 1.06.0

### 开发运行

#### ⚠️ 重要说明

本项目是 **uniapp 项目**，必须使用 **HBuilderX** 开发！

**不需要** 运行 `npm install`，HBuilderX 会自动处理依赖。

#### 方式1：使用 HBuilderX（推荐）✨

1. 下载安装 HBuilderX：https://www.dcloud.io/hbuilderx.html
2. 打开 HBuilderX
3. 文件 -> 导入 -> 从本地目录导入
4. 选择本项目目录
5. 右键项目 -> 运行 -> 运行到小程序模拟器 -> 微信开发者工具

详细步骤见：[docs/HBuilderX使用指南.md](docs/HBuilderX使用指南.md)

#### 方式2：微信开发者工具直接导入

1. 用 HBuilderX 构建项目
2. 在微信开发者工具中导入 `unpackage/dist/build/mp-weixin` 目录

### 项目配置

#### 1. 微信小程序 AppID

修改 `src/manifest.json`：

```json
{
  "mp-weixin": {
    "appid": "你的小程序AppID"
  }
}
```

#### 2. 腾讯地图 Key（可选）

如需使用地址解析等高级功能，需申请腾讯位置服务 Key：
1. 访问 https://lbs.qq.com/
2. 注册并创建应用
3. 获取 Key 并配置到项目中

## 功能特性

### 核心功能

- [x] 项目初始化
- [x] 基础页面框架
- [x] GPS定位基础功能
- [ ] 骑行数据实时监测
- [ ] 轨迹记录与绘制
- [ ] 传感器安全检测
- [ ] 数据分析与可视化
- [ ] GPX导出

### 硬件接口

- [x] GPS定位（位置、速度、海拔）
- [ ] 加速度计（急刹车、摔倒检测）
- [ ] 陀螺仪（姿态检测）
- [ ] 罗盘（方向显示）
- [ ] 震动反馈

## 开发进度

当前进度：**20%** (第一周 - 项目初始化)

详细进度请查看：[docs/00-进度跟踪.md](docs/00-进度跟踪.md)

## 开发计划

- **第1周**: 项目初始化与基础框架 ✅ 进行中
- **第2周**: 核心码表功能开发
- **第3周**: 安全检测功能开发
- **第4周**: 数据分析与可视化
- **第5周**: 测试与优化（可选）
- **第6周**: 文档与交付（可选）

## 文档

- [项目概述](docs/01-项目概述.md)
- [功能需求](docs/02-功能需求.md)
- [技术方案](docs/03-技术方案.md)
- [硬件接口使用](docs/04-硬件接口使用.md)
- [第三方依赖](docs/05-第三方依赖.md)
- [开发计划](docs/06-开发计划.md)

## 注意事项

### GPS定位

- 需要真机调试（模拟器无法测试GPS）
- 室外定位精度更高
- 首次定位可能需要3-10秒

### 权限配置

- 位置权限：必需（骑行轨迹记录）
- 需在 `manifest.json` 中配置权限说明

### 数据存储

- 所有数据存储在本地
- 无需后端服务器
- 用户完全控制数据

## 许可证

MIT License

## 联系方式

如有问题或建议，欢迎提 Issue。

---

**注意**: 本项目为教学项目，用于学习 uniapp 和微信小程序硬件接口开发。
